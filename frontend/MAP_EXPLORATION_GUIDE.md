# 地图探索系统使用指南 / Map Exploration Guide

## 🗺️ 功能概述

全新的 2D 地图探索系统让你可以像经典 Pokémon 游戏一样在地图上自由移动，遇到野生 Pokémon！

## 🎮 如何使用

### 1. 进入地图
- 点击导航栏的 **"Map"** 按钮
- 或访问 `/explore` 页面

### 2. 控制角色移动

**键盘控制：**
- `W` 或 `↑` - 向上移动
- `S` 或 `↓` - 向下移动
- `A` 或 `←` - 向左移动
- `D` 或 `→` - 向右移动

**移动特性：**
- 按住按键可以连续移动
- 角色会自动转向移动方向
- 无法穿越地图边界

### 3. 遇到野生 Pokémon

**野生 Pokémon 行为：**
- 🎲 随机在地图上生成 8 只野生 Pokémon
- 🚶 自动在地图上随机移动
- 🔄 随机改变移动方向
- ✨ 每只 Pokémon 都有独特的移动模式

**触发遭遇战：**
- 当你的角色与野生 Pokémon 碰撞时
- 自动触发遭遇战弹窗
- 该 Pokémon 会从地图上消失

### 4. 遭遇战选项

遇到野生 Pokémon 后，你有两个选择：

**🎯 捕捉 (Capture)**
- 进入捕捉界面
- 尝试捕获该 Pokémon
- 成功后铸造为 NFT

**🏃 逃跑 (Run Away)**
- 返回地图继续探索
- 该 Pokémon 不会重新出现
- 可以继续寻找其他 Pokémon

## 🎨 地图特性

### 地图尺寸
- 宽度：15 格
- 高度：12 格
- 每格大小：48x48 像素

### 视觉效果
- 🌿 草地纹理背景
- 🌳 边界树林效果
- ✨ 平滑的移动动画
- 🎭 角色方向显示

### 野生 Pokémon 种类
地图上可能遇到的 Pokémon：
- ⚡ Pikachu (皮卡丘)
- 🌱 Bulbasaur (妙蛙种子)
- 🔥 Charmander (小火龙)
- 💧 Squirtle (杰尼龟)
- 🦊 Eevee (伊布)
- 🎵 Jigglypuff (胖丁)

## 📊 实时信息显示

地图下方显示：
- **玩家位置** - 当前坐标 (x, y)
- **野生 Pokémon** - 地图上剩余数量
- **方向** - 当前面向方向

## 🎯 游戏策略

### 高效捕捉技巧
1. **观察移动模式** - 野生 Pokémon 有随机移动模式
2. **预判位置** - 提前移动到 Pokémon 可能经过的路径
3. **快速反应** - Pokémon 移动速度较慢，但需要快速决策
4. **清空地图** - 尝试捕捉所有 8 只 Pokémon

### 移动技巧
- 使用连续移动快速穿越地图
- 在角落等待 Pokémon 靠近
- 利用边界限制 Pokémon 的移动范围

## 🔧 技术实现

### 性能优化
- ✅ 使用 CSS transitions 实现流畅动画
- ✅ 防抖处理避免重复移动
- ✅ 高效的碰撞检测算法
- ✅ 优化的渲染性能

### 响应式设计
- 📱 支持桌面和平板设备
- ⌨️ 键盘控制优化
- 🎮 未来可扩展触摸控制

## 🆚 对比原有系统

### 原有 "Quick Explore" (/encounter)
- 点击按钮随机遇敌
- 5 分钟冷却时间
- 静态界面

### 新 "Map Explore" (/explore)
- 自由移动探索
- 实时遭遇战
- 动态交互体验
- 无冷却限制

**两种模式可以共存！**
- Quick Explore - 快速捕捉
- Map Explore - 沉浸式体验

## 🎮 游戏流程

```
1. 进入地图 (/explore)
   ↓
2. 使用 WASD 移动角色
   ↓
3. 观察野生 Pokémon 移动
   ↓
4. 碰撞触发遭遇战
   ↓
5. 选择捕捉或逃跑
   ↓
6. 捕捉成功 → 铸造 NFT
   ↓
7. 继续探索或返回主页
```

## 🚀 未来扩展计划

### 地图系统
- [ ] 多个不同主题的地图（森林、海滩、山洞）
- [ ] 更大的地图尺寸
- [ ] 地图障碍物（树木、岩石）
- [ ] 隐藏区域和秘密通道

### Pokémon 系统
- [ ] 不同稀有度的 Pokémon
- [ ] 特定区域出现特定 Pokémon
- [ ] 昼夜系统影响出现率
- [ ] 天气系统

### 交互功能
- [ ] NPC 训练师
- [ ] 道具拾取
- [ ] 传送点
- [ ] 多人在线（看到其他玩家）

### 移动控制
- [ ] 触摸屏虚拟摇杆
- [ ] 手柄支持
- [ ] 自动寻路

## 🐛 已知问题和解决方案

### 问题：移动太快
**解决方案：** 调整 `MOVE_SPEED` 常量（默认 200ms）

### 问题：Pokémon 移动不够随机
**解决方案：** 已实现随机方向改变和移动概率

### 问题：碰撞检测不准确
**解决方案：** 使用精确的坐标匹配算法

## 📱 兼容性

### 支持的浏览器
- ✅ Chrome/Edge (推荐)
- ✅ Firefox
- ✅ Safari
- ✅ Opera

### 支持的设备
- ✅ 桌面电脑（最佳体验）
- ✅ 笔记本电脑
- ✅ 平板电脑
- ⚠️ 手机（需要外接键盘）

## 🎓 开发者信息

### 文件位置
- **页面组件**: `frontend/app/explore/page.tsx`
- **导航更新**: `frontend/components/Navigation.tsx`
- **样式**: `frontend/app/globals.css`

### 关键代码
```typescript
// 移动速度
const MOVE_SPEED = 200; // ms

// 地图尺寸
const MAP_WIDTH = 15;
const MAP_HEIGHT = 12;
const TILE_SIZE = 48;

// Pokémon 数量
const POKEMON_COUNT = 8;
```

### 自定义配置
可以通过修改这些常量来调整游戏体验：
- 增加/减少地图大小
- 调整移动速度
- 改变 Pokémon 数量
- 修改 Pokémon 移动频率

## 💡 使用建议

### 新手玩家
1. 先熟悉键盘控制
2. 观察 Pokémon 移动模式
3. 从慢速移动的 Pokémon 开始
4. 不要急于捕捉，先探索地图

### 高级玩家
1. 快速清空整个地图
2. 记住 Pokémon 生成位置
3. 优化移动路线
4. 挑战最短时间捕捉所有 Pokémon

## 🎉 享受探索！

这个全新的地图探索系统为 PokéChain Battles 带来了更加沉浸式的游戏体验。

**开始你的冒险吧！** 🗺️✨

---

## 快速链接

- [返回主页](/)
- [查看个人资料](/profile)
- [访问市场](/marketplace)
- [查看任务](/quests)

## 反馈和建议

如果你有任何建议或发现问题，欢迎反馈！
