# ğŸ”‘ Railway æ·»åŠ ç¯å¢ƒå˜é‡ - è¯¦ç»†æ­¥éª¤

## æ–¹æ³• 1: ä½¿ç”¨ Raw Editorï¼ˆæœ€å¿«ï¼‰

### æ­¥éª¤ï¼š

1. **æ‰“å¼€ Railway Dashboard**
   - è®¿é—®: https://railway.app/dashboard
   - é€‰æ‹©ä½ çš„é¡¹ç›®

2. **è¿›å…¥ Variables é¡µé¢**
   - ç‚¹å‡» **"Variables"** æ ‡ç­¾

3. **ç‚¹å‡» Raw Editor**
   - ç‚¹å‡»å³ä¸Šè§’çš„ **"RAW Editor"** æŒ‰é’®

4. **ç²˜è´´ä»¥ä¸‹å†…å®¹**ï¼š

```
GEMINI_API_KEY=AIzaSyDAL621Fd02tvoKCJ9apijDp0h6BRuJ_cE
FIREBASE_SERVICE_ACCOUNT_PATH=serviceAccountKey.json
CORS_ORIGINS=http://localhost:3000
DEBUG=false
```

5. **ä¿å­˜**
   - ç‚¹å‡» **"Update Variables"** æˆ– **"Save"**

6. **ç­‰å¾…é‡æ–°éƒ¨ç½²**
   - Railway ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ï¼ˆ30-60ç§’ï¼‰

---

## æ–¹æ³• 2: é€ä¸ªæ·»åŠ ï¼ˆæ›´å®‰å…¨ï¼‰

### æ­¥éª¤ï¼š

1. **æ‰“å¼€ Railway Dashboard**
   - è®¿é—®: https://railway.app/dashboard
   - é€‰æ‹©ä½ çš„é¡¹ç›®

2. **è¿›å…¥ Variables é¡µé¢**
   - ç‚¹å‡» **"Variables"** æ ‡ç­¾

3. **æ·»åŠ ç¬¬ä¸€ä¸ªå˜é‡**
   - ç‚¹å‡» **"New Variable"**
   - Variable Name: `GEMINI_API_KEY`
   - Value: `AIzaSyDAL621Fd02tvoKCJ9apijDp0h6BRuJ_cE`
   - ç‚¹å‡» **"Add"**

4. **æ·»åŠ ç¬¬äºŒä¸ªå˜é‡**
   - ç‚¹å‡» **"New Variable"**
   - Variable Name: `FIREBASE_SERVICE_ACCOUNT_PATH`
   - Value: `serviceAccountKey.json`
   - ç‚¹å‡» **"Add"**

5. **æ·»åŠ ç¬¬ä¸‰ä¸ªå˜é‡**
   - ç‚¹å‡» **"New Variable"**
   - Variable Name: `CORS_ORIGINS`
   - Value: `http://localhost:3000`
   - ç‚¹å‡» **"Add"**

6. **æ·»åŠ ç¬¬å››ä¸ªå˜é‡**
   - ç‚¹å‡» **"New Variable"**
   - Variable Name: `DEBUG`
   - Value: `false`
   - ç‚¹å‡» **"Add"**

7. **ç­‰å¾…é‡æ–°éƒ¨ç½²**
   - Railway ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²

---

## âœ… éªŒè¯éƒ¨ç½²æˆåŠŸ

### 1. æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

åœ¨ **Deployments** æ ‡ç­¾ä¸­ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
- âœ… Build: Success
- âœ… Deploy: Success
- âœ… Status: Running

### 2. è·å–ä½ çš„ URL

åœ¨ **Settings** â†’ **Domains** ä¸­ï¼š
- ç‚¹å‡» **"Generate Domain"**ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
- å¤åˆ¶ä½ çš„ URLï¼ˆç±»ä¼¼ `https://your-app.railway.app`ï¼‰

### 3. æµ‹è¯• API

æ‰“å¼€æµè§ˆå™¨æˆ–ä½¿ç”¨ curlï¼š

```bash
# æ›¿æ¢ä¸ºä½ çš„å®é™… URL
curl https://your-app.railway.app/health
```

åº”è¯¥è¿”å›ï¼š
```json
{
  "status": "healthy",
  "redis": "disconnected"
}
```

å¦‚æœçœ‹åˆ°è¿™ä¸ªï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸäº†ï¼ğŸ‰

---

## ğŸ”¥ å¦‚æœé‡åˆ° Firebase é”™è¯¯

å¦‚æœçœ‹åˆ° Firebase ç›¸å…³é”™è¯¯ï¼Œä½ éœ€è¦ï¼š

### é€‰é¡¹ A: ä¸Šä¼  serviceAccountKey.json æ–‡ä»¶

1. åœ¨ Railway é¡¹ç›®ä¸­æ‰¾åˆ°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
2. ä¸Šä¼  `backend/serviceAccountKey.json`

### é€‰é¡¹ B: ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰

1. æ‰“å¼€ `backend/serviceAccountKey.json`
2. å¤åˆ¶æ•´ä¸ª JSON å†…å®¹
3. åœ¨ Railway Variables ä¸­æ·»åŠ ï¼š
   - Variable Name: `FIREBASE_CREDENTIALS`
   - Value: `{"type":"service_account","project_id":"...",...æ•´ä¸ªJSON...}`
4. åˆ é™¤ `FIREBASE_SERVICE_ACCOUNT_PATH` å˜é‡

ç„¶åä¿®æ”¹ `backend/config/settings.py` æ¥æ”¯æŒè¿™ä¸ªå˜é‡ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰ã€‚

---

## ğŸ“‹ å®Œæ•´çš„ç¯å¢ƒå˜é‡åˆ—è¡¨

| å˜é‡å | å€¼ | å¿…éœ€ï¼Ÿ |
|--------|-----|--------|
| GEMINI_API_KEY | AIzaSyDAL621Fd02tvoKCJ9apijDp0h6BRuJ_cE | âœ… å¿…éœ€ |
| FIREBASE_SERVICE_ACCOUNT_PATH | serviceAccountKey.json | âœ… å¿…éœ€ |
| CORS_ORIGINS | http://localhost:3000 | âš ï¸ æ¨è |
| DEBUG | false | âš ï¸ æ¨è |

---

## ğŸ¯ ä¸‹ä¸€æ­¥

éƒ¨ç½²æˆåŠŸåï¼š

1. âœ… è®°å½•ä½ çš„ Railway URL
2. âœ… æµ‹è¯• API ç«¯ç‚¹
3. âœ… éƒ¨ç½² Frontend åˆ° Vercel
4. âœ… æ›´æ–° Frontend çš„ `NEXT_PUBLIC_API_URL`
5. âœ… æ›´æ–° Railway çš„ `CORS_ORIGINS` ä¸º Frontend URL

---

## ğŸ’¡ æç¤º

- Railway ä¼šåœ¨ä½ æ·»åŠ /ä¿®æ”¹å˜é‡åè‡ªåŠ¨é‡æ–°éƒ¨ç½²
- æ¯æ¬¡é‡æ–°éƒ¨ç½²å¤§çº¦éœ€è¦ 30-60 ç§’
- å¯ä»¥åœ¨ Deployments æ ‡ç­¾æŸ¥çœ‹å®æ—¶æ—¥å¿—
- å¦‚æœéƒ¨ç½²å¤±è´¥ï¼ŒæŸ¥çœ‹æ—¥å¿—æ‰¾åˆ°å…·ä½“é”™è¯¯

ç¥éƒ¨ç½²é¡ºåˆ©ï¼ğŸš€
